import{C as e,E as t,H as n,J as r,T as i,b as a,nt as o,w as s}from"./chunks/vue.CAJL2k56.js";import{t as c}from"./chunks/plugin-vue_export-helper.Dhv-ahtx.js";import{t as l}from"./chunks/FunctionInfo.D07iGzEz.js";import{n as u,t as d}from"./chunks/Contributors.Dlm9_EGG.js";const f=JSON.parse(`{"title":"useSubscription","description":"","frontmatter":{"category":"@RxJS"},"headers":[],"relativePath":"rxjs/useSubscription/index.md","filePath":"rxjs/useSubscription/index.md","lastUpdated":1753948178000}`);var p={name:`rxjs/useSubscription/index.md`},m={class:`language-ts`},h={class:`shiki shiki-themes vitesse-light vitesse-dark twoslash lsp`,style:{"--shiki-light":`#393a34`,"--shiki-dark":`#dbd7caee`,"--shiki-light-bg":`#ffffff`,"--shiki-dark-bg":`#121212`},tabindex:`0`,dir:`ltr`},g={class:`line`},_={style:{"--shiki-light":`#59873A`,"--shiki-dark":`#80A665`}},v={style:{"--shiki-light":`#B07D48`,"--shiki-dark":`#BD976A`}},y={style:{"--shiki-light":`#2E8F82`,"--shiki-dark":`#5DA994`}};function b(c,f,p,b,x,S){let C=l,w=r(`v-menu`),T=d,E=u;return n(),e(`div`,null,[f[16]||=a(`h1`,{id:`usesubscription`,tabindex:`-1`},[i(`useSubscription `),a(`a`,{class:`header-anchor`,href:`#usesubscription`,"aria-label":`Permalink to “useSubscription”`},`​`)],-1),t(C,{fn:`useSubscription`}),f[17]||=s(`<p>使用 RxJS <a href="https://rxjs.dev/guide/subscription" target="_blank" rel="noreferrer"><code>Subscription</code></a>，无需担心取消订阅或创建内存泄漏。 Available in the <a href="/rxjs/README">@vueuse/rxjs</a> add-on.</p><h2 id="用法" tabindex="-1">用法 <a class="header-anchor" href="#用法" aria-label="Permalink to “用法”">​</a></h2><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes vitesse-light vitesse-dark" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> useSubscription</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">@vueuse/rxjs</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> interval</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">rxjs</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">count</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ref</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 在组件卸载前调用 unsubscribe 方法</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">useSubscription</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  interval</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1000</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    .</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">subscribe</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      count</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">value</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">++</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">      console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">log</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">count</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }),</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span></code></pre></div><h2 id="类型声明" tabindex="-1">类型声明 <a class="header-anchor" href="#类型声明" aria-label="Permalink to “类型声明”">​</a></h2>`,4),a(`div`,m,[f[14]||=a(`button`,{title:`Copy Code`,class:`copy`},null,-1),f[15]||=a(`span`,{class:`lang`},`ts`,-1),a(`pre`,h,[a(`code`,null,[a(`span`,g,[f[6]||=a(`span`,{style:{"--shiki-light":`#1E754F`,"--shiki-dark":`#4D9375`}},`export`,-1),f[7]||=a(`span`,{style:{"--shiki-light":`#AB5959`,"--shiki-dark":`#CB7676`}},` declare`,-1),f[8]||=a(`span`,{style:{"--shiki-light":`#AB5959`,"--shiki-dark":`#CB7676`}},` function`,-1),f[9]||=a(`span`,{style:{"--shiki-light":`#59873A`,"--shiki-dark":`#80A665`}},` `,-1),a(`span`,_,[t(w,{class:`twoslash-hover`,"popper-class":`shiki twoslash-floating vp-copy-ignore`,theme:`twoslash`},{popper:o(({})=>[...f[0]||=[a(`span`,{class:`twoslash-popup-container vp-copy-ignore`},[a(`code`,{class:`twoslash-popup-code`},[a(`span`,{style:{"--shiki-light":`#AB5959`,"--shiki-dark":`#CB7676`}},`function`),a(`span`,{style:{"--shiki-light":`#59873A`,"--shiki-dark":`#80A665`}},` useSubscription`),a(`span`,{style:{"--shiki-light":`#999999`,"--shiki-dark":`#666666`}},`(`),a(`span`,{style:{"--shiki-light":`#B07D48`,"--shiki-dark":`#BD976A`}},`subscription`),a(`span`,{style:{"--shiki-light":`#999999`,"--shiki-dark":`#666666`}},`: `),a(`span`,{style:{"--shiki-light":`#2E8F82`,"--shiki-dark":`#5DA994`}},`Unsubscribable`),a(`span`,{style:{"--shiki-light":`#999999`,"--shiki-dark":`#666666`}},`):`),a(`span`,{style:{"--shiki-light":`#2E8F82`,"--shiki-dark":`#5DA994`}},` void`)])],-1)]]),default:o(()=>[f[1]||=a(`span`,null,`useSubscription`,-1)]),_:1})]),f[10]||=a(`span`,{style:{"--shiki-light":`#999999`,"--shiki-dark":`#666666`}},`(`,-1),a(`span`,v,[t(w,{class:`twoslash-hover`,"popper-class":`shiki twoslash-floating vp-copy-ignore`,theme:`twoslash`},{popper:o(({})=>[...f[2]||=[a(`span`,{class:`twoslash-popup-container vp-copy-ignore`},[a(`code`,{class:`twoslash-popup-code`},[a(`span`,{style:{"--shiki-light":`#59873A`,"--shiki-dark":`#80A665`}},`subscription`),a(`span`,{style:{"--shiki-light":`#999999`,"--shiki-dark":`#666666`}},`:`),a(`span`,{style:{"--shiki-light":`#B07D48`,"--shiki-dark":`#BD976A`}},` Unsubscribable`)])],-1)]]),default:o(()=>[f[3]||=a(`span`,null,`subscription`,-1)]),_:1})]),f[11]||=a(`span`,{style:{"--shiki-light":`#999999`,"--shiki-dark":`#666666`}},`: `,-1),a(`span`,y,[t(w,{class:`twoslash-hover`,"popper-class":`shiki twoslash-floating vp-copy-ignore`,theme:`twoslash`},{popper:o(({})=>[...f[4]||=[a(`span`,{class:`twoslash-popup-container vp-copy-ignore`},[a(`code`,{class:`twoslash-popup-code`},[a(`span`,{style:{"--shiki-light":`#AB5959`,"--shiki-dark":`#CB7676`}},`type`),a(`span`,{style:{"--shiki-light":`#2E8F82`,"--shiki-dark":`#5DA994`}},` Unsubscribable`),a(`span`,{style:{"--shiki-light":`#999999`,"--shiki-dark":`#666666`}},` =`),a(`span`,{style:{"--shiki-light":`#A0ADA0`,"--shiki-dark":`#758575DD`}},` /*unresolved*/`),a(`span`,{style:{"--shiki-light":`#2E8F82`,"--shiki-dark":`#5DA994`}},` any`)])],-1)]]),default:o(()=>[f[5]||=a(`span`,null,`Unsubscribable`,-1)]),_:1})]),f[12]||=a(`span`,{style:{"--shiki-light":`#999999`,"--shiki-dark":`#666666`}},`):`,-1),f[13]||=a(`span`,{style:{"--shiki-light":`#2E8F82`,"--shiki-dark":`#5DA994`}},` void`,-1)])])])]),f[18]||=s(`<h2 id="源码" tabindex="-1">源码 <a class="header-anchor" href="#源码" aria-label="Permalink to “源码”">​</a></h2><p><a href="https://github.com/vueuse/vueuse/blob/main/packages/rxjs/useSubscription/index.ts" target="_blank" rel="noreferrer">源码</a> • <a href="https://github.com/vueuse/vueuse/blob/main/packages/rxjs/useSubscription/index.md" target="_blank" rel="noreferrer">文档</a></p><h2 id="贡献者" tabindex="-1">贡献者 <a class="header-anchor" href="#贡献者" aria-label="Permalink to “贡献者”">​</a></h2>`,3),t(T,{fn:`useSubscription`}),f[19]||=a(`h2`,{id:`更新日志`,tabindex:`-1`},[i(`更新日志 `),a(`a`,{class:`header-anchor`,href:`#更新日志`,"aria-label":`Permalink to “更新日志”`},`​`)],-1),t(E,{fn:`useSubscription`})])}var x=c(p,[[`render`,b]]);export{f as __pageData,x as default};