import{Ct as e,dt as t,ht as n}from"./vue.CAJL2k56.js";import{s as r}from"./is.CbRwWVeh.js";import{t as i}from"./toRef.YonFBqrF.js";function a(e,t){function n(...n){return new Promise((r,i)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(r).catch(i)})}return n}const o=e=>e();function s(t,n={}){let i,a,o=r,s=e=>{clearTimeout(e),o(),o=r},c;return r=>{let l=e(t),u=e(n.maxWait);return i&&s(i),l<=0||u!==void 0&&u<=0?(a&&=(s(a),void 0),Promise.resolve(r())):new Promise((e,t)=>{o=n.rejectOnCancel?t:e,c=r,u&&!a&&(a=setTimeout(()=>{i&&s(i),a=void 0,e(c())},u)),i=setTimeout(()=>{a&&s(a),a=void 0,e(r())},l)})}}function c(...n){let i=0,a,o=!0,s=r,c,l,u,d,f;!t(n[0])&&typeof n[0]==`object`?{delay:l,trailing:u=!0,leading:d=!0,rejectOnCancel:f=!1}=n[0]:[l,u=!0,d=!0,f=!1]=n;let p=()=>{a&&(clearTimeout(a),a=void 0,s(),s=r)};return t=>{let n=e(l),r=Date.now()-i,m=()=>c=t();return p(),n<=0?(i=Date.now(),m()):(r>n?(i=Date.now(),(d||!o)&&m()):u&&(c=new Promise((e,t)=>{s=f?t:e,a=setTimeout(()=>{i=Date.now(),o=!0,e(m()),p()},Math.max(0,n-r))})),!d&&!a&&(a=setTimeout(()=>o=!0,n)),o=!1,c)}}function l(e=o,t={}){let{initialState:r=`active`}=t,a=i(r===`active`);function s(){a.value=!1}function c(){a.value=!0}return{isActive:n(a),pause:s,resume:c,eventFilter:(...t)=>{a.value&&e(...t)}}}export{c as a,l as i,a as n,s as r,o as t};