import{$ as e}from"./vue.CAJL2k56.js";import{n as t,t as n}from"./filters.FeueHqze.js";function r(r,i,a={}){let{eventFilter:o=n,...s}=a,c=t(o,i),l,u,d;if(s.flush===`sync`){let t=!1;u=()=>{},l=e=>{t=!0,e(),t=!1},d=e(r,(...e)=>{t||c(...e)},s)}else{let t=[],n=0,i=0;u=()=>{n=i},t.push(e(r,()=>{i++},{...s,flush:`sync`})),l=e=>{let t=i;e(),n+=i-t},t.push(e(r,(...e)=>{let t=n>0&&n===i;n=0,i=0,!t&&c(...e)},s)),d=()=>{t.forEach(e=>e())}}return{stop:d,ignoreUpdates:l,ignorePrevAsyncUpdates:u}}export{r as t};