import{D as e,K as t,O as n,P as r,Q as i,S as a,V as o,tC as s,tE as c,th as l,tv as u,tw as d,v as f,y as p}from"./vue.DLm9j74-.js";import{i as m}from"./is.J6NoNqY_.js";import{t as h}from"./useEventListener.Cti38iiT.js";import{t as g}from"./useCloned.ZW3Yyp73.js";import{t as _}from"./useMouseInElement.DRBTTTYd.js";function v(e,t,a,o={}){let{clone:s=!1,passive:c=!1,eventName:u,deep:d=!1,defaultValue:p,shouldEmit:h}=o,_=n(),v=a||_?.emit||_?.$emit?.bind(_)||_?.proxy?.$emit?.bind(_?.proxy),y=u;t||=`modelValue`,y||=`update:${t.toString()}`;let b=e=>s?typeof s==`function`?s(e):g(e):e,x=()=>m(e[t])?b(e[t]):p,S=e=>{h?h(e)&&v(y,e):v(y,e)};if(c){let n=x(),a=l(n),o=!1;return i(()=>e[t],e=>{o||(o=!0,a.value=b(e),r(()=>o=!1))}),i(a,n=>{!o&&(n!==e[t]||d)&&S(n)},{deep:d}),a}else return f({get(){return x()},set(e){S(e)}})}var y={class:`relative overflow-hidden h-full w-full rounded`},b=e({__name:`Scrubber`,props:{min:{type:Number,default:0},max:{type:Number,default:100},secondary:{type:Number,default:0},modelValue:{type:Number,required:!0}},emits:[`update:modelValue`],setup(e,{emit:n}){let r=e,l=n,f=u(),m=u(!1),g=u(0);h(`mouseup`,()=>m.value=!1,{passive:!0});let b=v(r,`modelValue`,l),{elementX:x,elementWidth:S}=_(f);return i([m,x],()=>{g.value=Math.max(0,Math.min(1,x.value/S.value))*r.max,m.value&&(b.value=g.value)}),(n,r)=>(o(),a(`div`,{ref_key:`scrubber`,ref:f,class:`relative h-2 rounded cursor-pointer select-none bg-black dark:bg-white dark:bg-opacity-10 bg-opacity-20`,onMousedown:r[0]||=e=>m.value=!0},[p(`div`,y,[p(`div`,{class:`h-full absolute opacity-30 left-0 top-0 bg-emerald-700 w-full rounded`,style:c({transform:`translateX(${e.secondary/e.max*100-100}%)`})},null,4),p(`div`,{class:`relative h-full w-full bg-emerald-500 rounded`,style:c({transform:`translateX(${s(b)/e.max*100-100}%)`})},null,4)]),p(`div`,{class:d([`absolute inset-0 hover:opacity-100 opacity-0`,{"!opacity-100":m.value}])},[t(n.$slots,`default`,{pendingValue:g.value,position:`${Math.max(0,Math.min(s(x),s(S)))}px`})],2)],544))}});export{b as t};