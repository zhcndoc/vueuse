import{$ as e,th as t,tu as n,tv as r,v as i}from"./vue.DLm9j74-.js";import{s as a}from"./is.J6NoNqY_.js";function o(o,s,c){let l=n(c)?{evaluating:c}:c||{},{lazy:u=!1,flush:d=`sync`,evaluating:f=void 0,shallow:p=!0,onError:m=globalThis.reportError??a}=l,h=r(!u),g=p?r(s):t(s),_=0;return e(async e=>{if(!h.value)return;_++;let t=_,n=!1;f&&Promise.resolve().then(()=>{f.value=!0});try{let r=await o(t=>{e(()=>{f&&(f.value=!1),n||t()})});t===_&&(g.value=r)}catch(e){m(e)}finally{f&&t===_&&(f.value=!1),n=!0}},{flush:d}),u?i(()=>(h.value=!0,g.value)):g}export{o as t};