import{$ as e,Ct as t,y as n}from"./vue.CAJL2k56.js";import{t as r}from"./tryOnScopeDispose.C50xVOZe.js";import{c as i}from"./is.CbRwWVeh.js";import{d as a}from"./general.BbmBTXVB.js";import{r as o}from"./configurable.CHIFr4yg.js";import{t as s}from"./unrefElement.BXTXpAEN.js";import{t as c}from"./useSupported.wZzSDbHl.js";function l(l,u,d={}){let{window:f=o,...p}=d,m,h=c(()=>f&&`MutationObserver`in f),g=()=>{m&&=(m.disconnect(),void 0)},_=e(n(()=>{let e=a(t(l)).map(s).filter(i);return new Set(e)}),e=>{g(),h.value&&e.size&&(m=new MutationObserver(u),e.forEach(e=>m.observe(e,p)))},{immediate:!0,flush:`post`}),v=()=>m?.takeRecords(),y=()=>{_(),g()};return r(y),{isSupported:h,stop:y,takeRecords:v}}export{l as t};