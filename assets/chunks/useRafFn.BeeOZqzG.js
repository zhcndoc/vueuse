import{tS as e,tm as t,tv as n,v as r}from"./vue.DLm9j74-.js";import{t as i}from"./tryOnScopeDispose.52c2sqvU.js";import{r as a}from"./configurable.DuBTHq8T.js";function o(o,s={}){let{immediate:c=!0,fpsLimit:l=void 0,window:u=a,once:d=!1}=s,f=n(!1),p=r(()=>l?1e3/e(l):null),m=0,h=null;function g(e){if(!f.value||!u)return;m||=e;let t=e-m;if(p.value&&t<p.value){h=u.requestAnimationFrame(g);return}if(m=e,o({delta:t,timestamp:e}),d){f.value=!1,h=null;return}h=u.requestAnimationFrame(g)}function _(){!f.value&&u&&(f.value=!0,m=0,h=u.requestAnimationFrame(g))}function v(){f.value=!1,h!=null&&u&&(u.cancelAnimationFrame(h),h=null)}return c&&_(),i(v),{isActive:t(f),pause:v,resume:_}}export{o as t};