import{$ as e,yt as t}from"./vue.CAJL2k56.js";import{t as n}from"./tryOnMounted.6dxedOfE.js";import{t as r}from"./useEventListener.c80kvxRv.js";import{r as i}from"./configurable.CHIFr4yg.js";import{t as a}from"./unrefElement.BXTXpAEN.js";import{t as o}from"./useMutationObserver.CiK1TvV4.js";import{t as s}from"./useResizeObserver.DK_mYc6H.js";import{t as c}from"./useMouse.BhmPYfVY.js";function l(l,u={}){let{windowResize:d=!0,windowScroll:f=!0,handleOutside:p=!0,window:m=i}=u,h=u.type||`page`,{x:g,y:_,sourceType:v}=c(u),y=t(l??m?.document.body),b=t(0),x=t(0),S=t(0),C=t(0),w=t(0),T=t(0),E=t(!0);function D(){if(!m)return;let e=a(y);if(!(!e||!(e instanceof Element)))for(let t of e.getClientRects()){let{left:e,top:n,width:r,height:i}=t;S.value=e+(h===`page`?m.pageXOffset:0),C.value=n+(h===`page`?m.pageYOffset:0),w.value=i,T.value=r;let a=g.value-S.value,o=_.value-C.value;if(E.value=r===0||i===0||a<0||o<0||a>r||o>i,(p||!E.value)&&(b.value=a,x.value=o),!E.value)break}}let O=[];function k(){O.forEach(e=>e()),O.length=0}if(n(()=>{D()}),m){let{stop:t}=s(y,D),{stop:n}=o(y,D,{attributeFilter:[`style`,`class`]}),i=e([y,g,_],D);O.push(t,n,i),r(document,`mouseleave`,()=>E.value=!0,{passive:!0}),f&&O.push(r(`scroll`,D,{capture:!0,passive:!0})),d&&O.push(r(`resize`,D,{passive:!0}))}return{x:g,y:_,sourceType:v,elementX:b,elementY:x,elementPositionX:S,elementPositionY:C,elementHeight:w,elementWidth:T,isOutside:E,stop:k}}export{l as t};