import{tS as e,tp as t,tv as n,v as r}from"./vue.DLm9j74-.js";import{s as i}from"./is.J6NoNqY_.js";import{t as a}from"./tryOnMounted.CJs_r5qD.js";import{t as o}from"./useDebounceFn.Q7sSphRD.js";import{t as s}from"./useThrottleFn.C672lu5Q.js";import{t as c}from"./useEventListener.Cti38iiT.js";import{r as l}from"./configurable.DuBTHq8T.js";import{t as u}from"./unrefElement.BPPQrlgs.js";import{t as d}from"./useMutationObserver.DOVZgknu.js";function f(f,p={}){let{throttle:m=0,idle:h=200,onStop:g=i,onScroll:_=i,offset:v={left:0,right:0,top:0,bottom:0},observe:y={mutation:!1},eventListenerOptions:b={capture:!1,passive:!0},behavior:x=`auto`,window:S=l,onError:C=e=>{console.error(e)}}=p,w=typeof y==`boolean`?{mutation:y}:y,T=n(0),E=n(0),D=r({get(){return T.value},set(e){k(e,void 0)}}),O=r({get(){return E.value},set(e){k(void 0,e)}});function k(t,n){if(!S)return;let r=e(f);if(!r)return;(r instanceof Document?S.document.body:r)?.scrollTo({top:e(n)??O.value,left:e(t)??D.value,behavior:e(x)});let i=r?.document?.documentElement||r?.documentElement||r;D!=null&&(T.value=i.scrollLeft),O!=null&&(E.value=i.scrollTop)}let A=n(!1),j=t({left:!0,right:!1,top:!0,bottom:!1}),M=t({left:!1,right:!1,top:!1,bottom:!1}),N=e=>{A.value&&(A.value=!1,M.left=!1,M.right=!1,M.top=!1,M.bottom=!1,g(e))},P=o(N,m+h),F=e=>{if(!S)return;let t=e?.document?.documentElement||e?.documentElement||u(e),{display:n,flexDirection:r,direction:i}=getComputedStyle(t),a=i===`rtl`?-1:1,o=t.scrollLeft;M.left=o<T.value,M.right=o>T.value;let s=Math.abs(o*a)<=(v.left||0),c=Math.abs(o*a)+t.clientWidth>=t.scrollWidth-(v.right||0)-1;n===`flex`&&r===`row-reverse`?(j.left=c,j.right=s):(j.left=s,j.right=c),T.value=o;let l=t.scrollTop;e===S.document&&!l&&(l=S.document.body.scrollTop),M.top=l<E.value,M.bottom=l>E.value;let d=Math.abs(l)<=(v.top||0),f=Math.abs(l)+t.clientHeight>=t.scrollHeight-(v.bottom||0)-1;n===`flex`&&r===`column-reverse`?(j.top=f,j.bottom=d):(j.top=d,j.bottom=f),E.value=l},I=e=>{if(!S)return;let t=e.target.documentElement??e.target;F(t),A.value=!0,P(e),_(e)};return c(f,`scroll`,m?s(I,m,!0,!1):I,b),a(()=>{try{let t=e(f);if(!t)return;F(t)}catch(e){C(e)}}),w?.mutation&&f!=null&&f!==S&&f!==document&&d(f,()=>{let t=e(f);t&&F(t)},{attributes:!0,childList:!0,subtree:!0}),c(f,`scrollend`,N,b),{x:D,y:O,isScrolling:A,arrivedState:j,directions:M,measure(){let t=e(f);S&&t&&F(t)}}}export{f as t};