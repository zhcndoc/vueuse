import{Q as e,tS as t,tv as n,v as r}from"./vue.DLm9j74-.js";import{t as i}from"./tryOnScopeDispose.52c2sqvU.js";import{c as a,s as o}from"./is.J6NoNqY_.js";import{d as s}from"./general.CPMlYMV9.js";import{r as c}from"./configurable.DuBTHq8T.js";import{t as l}from"./unrefElement.BPPQrlgs.js";import{t as u}from"./useSupported.O3lMHp1K.js";function d(d,f,p={}){let{root:m,rootMargin:h=`0px`,threshold:g=0,window:_=c,immediate:v=!0}=p,y=u(()=>_&&`IntersectionObserver`in _),b=r(()=>{let e=t(d);return s(e).map(l).filter(a)}),x=o,S=n(v),C=y.value?e(()=>[b.value,l(m),S.value],([e,t])=>{if(x(),!S.value||!e.length)return;let n=new IntersectionObserver(f,{root:l(t),rootMargin:h,threshold:g});e.forEach(e=>e&&n.observe(e)),x=()=>{n.disconnect(),x=o}},{immediate:v,flush:`post`}):o,w=()=>{x(),C(),S.value=!1};return i(w),{isSupported:y,isActive:S,pause(){x(),S.value=!1},resume(){S.value=!0},stop:w}}export{d as t};