import{Ct as e,mt as t,y as n,yt as r}from"./vue.CAJL2k56.js";import{s as i}from"./is.CbRwWVeh.js";import{t as a}from"./tryOnMounted.6dxedOfE.js";import{t as o}from"./useDebounceFn.N90Jsgmj.js";import{t as s}from"./useThrottleFn.BAkNQXKm.js";import{t as c}from"./useEventListener.c80kvxRv.js";import{r as l}from"./configurable.CHIFr4yg.js";import{t as u}from"./unrefElement.BXTXpAEN.js";import{t as d}from"./useMutationObserver.CiK1TvV4.js";var f=1;function p(p,m={}){let{throttle:h=0,idle:g=200,onStop:_=i,onScroll:v=i,offset:y={left:0,right:0,top:0,bottom:0},observe:b={mutation:!1},eventListenerOptions:x={capture:!1,passive:!0},behavior:S=`auto`,window:C=l,onError:w=e=>{console.error(e)}}=m,T=typeof b==`boolean`?{mutation:b}:b,E=r(0),D=r(0),O=n({get(){return E.value},set(e){A(e,void 0)}}),k=n({get(){return D.value},set(e){A(void 0,e)}});function A(t,n){if(!C)return;let r=e(p);if(!r)return;(r instanceof Document?C.document.body:r)?.scrollTo({top:e(n)??k.value,left:e(t)??O.value,behavior:e(S)});let i=r?.document?.documentElement||r?.documentElement||r;O!=null&&(E.value=i.scrollLeft),k!=null&&(D.value=i.scrollTop)}let j=r(!1),M=t({left:!0,right:!1,top:!0,bottom:!1}),N=t({left:!1,right:!1,top:!1,bottom:!1}),P=e=>{j.value&&(j.value=!1,N.left=!1,N.right=!1,N.top=!1,N.bottom=!1,_(e))},F=o(P,h+g),I=e=>{if(!C)return;let t=e?.document?.documentElement||e?.documentElement||u(e),{display:n,flexDirection:r,direction:i}=C.getComputedStyle(t),a=i===`rtl`?-1:1,o=t.scrollLeft;N.left=o<E.value,N.right=o>E.value;let s=Math.abs(o*a)<=(y.left||0),c=Math.abs(o*a)+t.clientWidth>=t.scrollWidth-(y.right||0)-f;n===`flex`&&r===`row-reverse`?(M.left=c,M.right=s):(M.left=s,M.right=c),E.value=o;let l=t.scrollTop;e===C.document&&!l&&(l=C.document.body.scrollTop),N.top=l<D.value,N.bottom=l>D.value;let d=Math.abs(l)<=(y.top||0),p=Math.abs(l)+t.clientHeight>=t.scrollHeight-(y.bottom||0)-f;n===`flex`&&r===`column-reverse`?(M.top=p,M.bottom=d):(M.top=d,M.bottom=p),D.value=l},L=e=>{C&&(I(e.target.documentElement??e.target),j.value=!0,F(e),v(e))};return c(p,`scroll`,h?s(L,h,!0,!1):L,x),a(()=>{try{let t=e(p);if(!t)return;I(t)}catch(e){w(e)}}),T?.mutation&&p!=null&&p!==C&&p!==document&&d(p,()=>{let t=e(p);t&&I(t)},{attributes:!0,childList:!0,subtree:!0}),c(p,`scrollend`,P,x),{x:O,y:k,isScrolling:j,arrivedState:M,directions:N,measure(){let t=e(p);C&&t&&I(t)}}}export{p as t};