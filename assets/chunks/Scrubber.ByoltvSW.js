import{$ as e,C as t,Dt as n,F as r,H as i,O as a,Q as o,Tt as s,b as c,gt as l,k as u,q as d,wt as f,y as p,yt as m}from"./vue.CAJL2k56.js";import{i as h}from"./is.CbRwWVeh.js";import{t as g}from"./useEventListener.c80kvxRv.js";import{t as _}from"./useCloned.CeRQwYTr.js";import{t as v}from"./useMouseInElement.C2DmrsJk.js";function y(t,n,i,a={}){let{clone:o=!1,passive:s=!1,eventName:c,deep:d=!1,defaultValue:f,shouldEmit:m}=a,g=u(),v=i||g?.emit||g?.$emit?.bind(g)||g?.proxy?.$emit?.bind(g?.proxy),y=c;n||=`modelValue`,y||=`update:${n.toString()}`;let b=e=>o?typeof o==`function`?o(e):_(e):e,x=()=>h(t[n])?b(t[n]):f,S=e=>{m?m(e)&&v(y,e):v(y,e)};if(s){let i=l(x()),a=!1;return e(()=>t[n],e=>{a||(a=!0,i.value=b(e),r(()=>a=!1))}),e(i,e=>{!a&&(e!==t[n]||d)&&S(e)},{deep:d}),i}else return p({get(){return x()},set(e){S(e)}})}var b={class:`relative overflow-hidden h-full w-full rounded`},x=a({__name:`Scrubber`,props:{min:{type:Number,default:0},max:{type:Number,default:100},secondary:{type:Number,default:0},modelValue:{type:Number,required:!0}},emits:[`update:modelValue`],setup(r,{emit:a}){let l=r,u=a,p=o(`scrubber`),h=m(!1),_=m(0);g(`mouseup`,()=>h.value=!1,{passive:!0});let x=y(l,`modelValue`,u),{elementX:S,elementWidth:C}=v(p);return e([h,S],()=>{_.value=Math.max(0,Math.min(1,S.value/C.value))*l.max,h.value&&(x.value=_.value)}),(e,a)=>(i(),t(`div`,{ref_key:`scrubber`,ref:p,class:`relative h-2 rounded cursor-pointer select-none bg-black dark:bg-white dark:bg-opacity-10 bg-opacity-20`,onMousedown:a[0]||=e=>h.value=!0},[c(`div`,b,[c(`div`,{class:`h-full absolute opacity-30 left-0 top-0 bg-emerald-700 w-full rounded`,style:n({transform:`translateX(${r.secondary/r.max*100-100}%)`})},null,4),c(`div`,{class:`relative h-full w-full bg-emerald-500 rounded`,style:n({transform:`translateX(${f(x)/r.max*100-100}%)`})},null,4)]),c(`div`,{class:s([`absolute inset-0 hover:opacity-100 opacity-0`,{"!opacity-100":h.value}])},[d(e.$slots,`default`,{pendingValue:_.value,position:`${Math.max(0,Math.min(f(S),f(C)))}px`})],2)],544))}});export{x as t};